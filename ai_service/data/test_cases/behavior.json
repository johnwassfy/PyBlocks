[
  {
    "id": "behavior_degradation_01",
    "name": "Subtle Code Quality Degradation",
    "evaluation_category": "advanced_pattern",
    "difficulty_level": 5,
    "expected_pattern": "quality_degradation",
    "expected_behavior": "Detect gradual decline in code quality (comments removed, variable names worse, less structure) despite passing tests - student losing understanding or copying",
    "grading_criteria": {
      "detects_degradation": true,
      "must_include": ["quality", "understanding", "previous"],
      "must_not_include": ["good job", "correct"],
      "requires_comparison": true,
      "specificity_score": 0.9
    },
    "payload": {
      "userId": "benchmark_user",
      "missionId": "algorithms_practice",
      "step": 4,
      "activity": {
        "blocksCreated": 5,
        "blocksDeleted": 2,
        "blocksModified": 3,
        "idleTime": 8,
        "totalEdits": 10,
        "errorCount": 0,
        "lastError": null,
        "codeSnapshot": "def f(n):return n if n<=1 else n*f(n-1)",
        "previousCode": "def factorial(number):\n    # Base case: factorial of 0 or 1 is 1\n    if number <= 1:\n        return 1\n    # Recursive case\n    return number * factorial(number - 1)",
        "concepts": ["functions", "recursion", "base-case"],
        "difficulty": "hard"
      }
    }
  },
  {
    "id": "behavior_plateau_01",
    "name": "Extended Learning Plateau Detection",
    "evaluation_category": "advanced_pattern",
    "difficulty_level": 4,
    "expected_pattern": "learning_plateau",
    "expected_behavior": "Detect when student completes 5+ missions at same difficulty with increasing attempts - not progressing, needs intervention or different approach",
    "grading_criteria": {
      "detects_plateau": true,
      "must_include": ["struggling", "different", "help"],
      "suggests_intervention": true,
      "data_driven": true,
      "specificity_score": 0.85
    },
    "payload": {
      "userId": "benchmark_user",
      "missionId": "loops_basic_6",
      "step": 1,
      "activity": {
        "blocksCreated": 3,
        "blocksDeleted": 1,
        "blocksModified": 2,
        "idleTime": 35,
        "totalEdits": 6,
        "errorCount": 3,
        "lastError": "SyntaxError: invalid syntax",
        "codeSnapshot": "for i in range(10)\n    print(i)",
        "missionHistory": [
          {"mission": "loops_basic_1", "difficulty": 2, "attempts": 3},
          {"mission": "loops_basic_2", "difficulty": 2, "attempts": 4},
          {"mission": "loops_basic_3", "difficulty": 2, "attempts": 5},
          {"mission": "loops_basic_4", "difficulty": 2, "attempts": 5},
          {"mission": "loops_basic_5", "difficulty": 2, "attempts": 6}
        ],
        "concepts": ["loops", "syntax"],
        "difficulty": "medium"
      }
    }
  },
  {
    "id": "behavior_copy_paste_01",
    "name": "Suspicious Copy-Paste Pattern",
    "evaluation_category": "advanced_pattern",
    "difficulty_level": 5,
    "expected_pattern": "copy_paste_suspected",
    "expected_behavior": "Detect instant success after multiple failures with dramatically different code quality/complexity - possible external help",
    "grading_criteria": {
      "detects_anomaly": true,
      "must_include": ["sudden", "change", "understand"],
      "asks_for_explanation": true,
      "non_accusatory": true,
      "specificity_score": 0.9
    },
    "payload": {
      "userId": "benchmark_user",
      "missionId": "list_comprehension",
      "step": 3,
      "activity": {
        "blocksCreated": 12,
        "blocksDeleted": 0,
        "blocksModified": 1,
        "idleTime": 2,
        "totalEdits": 13,
        "errorCount": 0,
        "lastError": null,
        "codeSnapshot": "# Optimized solution with error handling\nresult = [int(x) for x in input().split() if x.isdigit()]\nprint(f\"Valid numbers: {', '.join(map(str, sorted(result)))}\")",
        "previousAttempts": [
          {"code": "for i in lst:\n    print i", "time_ms": 45000},
          {"code": "for i in lst\n    print(i)", "time_ms": 30000}
        ],
        "timeToSuccess": 3000,
        "concepts": ["list-comprehension", "input", "validation"],
        "difficulty": "hard"
      }
    }
  },
  {
    "id": "behavior_context_switch_01",
    "name": "Rapid Context Switching",
    "evaluation_category": "focus_pattern",
    "difficulty_level": 4,
    "expected_pattern": "distracted_switching",
    "expected_behavior": "Detect rapid switching between missions without completion - student may be overwhelmed or avoiding hard parts",
    "grading_criteria": {
      "detects_switching": true,
      "must_include": ["focus", "complete", "one"],
      "suggests_focus_strategy": true,
      "specificity_score": 0.8
    },
    "payload": {
      "userId": "benchmark_user",
      "missionId": "conditionals_advanced",
      "step": 1,
      "activity": {
        "blocksCreated": 2,
        "blocksDeleted": 1,
        "blocksModified": 1,
        "idleTime": 5,
        "totalEdits": 4,
        "errorCount": 1,
        "lastError": "SyntaxError",
        "codeSnapshot": "if x > 5:",
        "recentMissions": [
          {"mission": "loops_intro", "timeSpent": 15000, "completed": false},
          {"mission": "functions_basic", "timeSpent": 22000, "completed": false},
          {"mission": "strings_manipulation", "timeSpent": 18000, "completed": false},
          {"mission": "conditionals_advanced", "timeSpent": 8000, "completed": false}
        ],
        "concepts": ["conditionals", "logic"],
        "difficulty": "hard"
      }
    }
  },
  {
    "id": "behavior_burnout_01",
    "name": "Burnout Pattern Detection",
    "evaluation_category": "emotional_state",
    "difficulty_level": 5,
    "expected_pattern": "frustration_burnout",
    "expected_behavior": "Detect signs of frustration/burnout: many rapid edits with no progress, increasing errors, deteriorating code structure",
    "grading_criteria": {
      "detects_frustration": true,
      "must_include": ["break", "okay", "hard"],
      "empathetic": true,
      "suggests_break_or_easier": true,
      "specificity_score": 0.85
    },
    "payload": {
      "userId": "benchmark_user",
      "missionId": "recursion_advanced",
      "step": 2,
      "activity": {
        "blocksCreated": 24,
        "blocksDeleted": 22,
        "blocksModified": 18,
        "idleTime": 3,
        "totalEdits": 64,
        "errorCount": 12,
        "lastError": "RecursionError: maximum recursion depth exceeded",
        "codeSnapshot": "def fib(n):\n    return fib(n-1)+fib(n-2)",
        "sessionTime": 180000,
        "errorsLast5Min": 8,
        "concepts": ["recursion", "base-case", "functions"],
        "difficulty": "very-hard"
      }
    }
  },
  {
    "id": "behavior_silent_struggle_01",
    "name": "Silent Struggle - Minimal Activity",
    "evaluation_category": "subtle_pattern",
    "difficulty_level": 4,
    "expected_pattern": "silent_struggle",
    "expected_behavior": "Detect student who makes very few edits, long idle times, but doesn't ask for help - may be stuck but hesitant to engage",
    "grading_criteria": {
      "detects_hesitation": true,
      "must_include": ["help", "okay", "ask"],
      "inviting_tone": true,
      "low_pressure": true,
      "specificity_score": 0.8
    },
    "payload": {
      "userId": "benchmark_user",
      "missionId": "nested_loops",
      "step": 1,
      "activity": {
        "blocksCreated": 1,
        "blocksDeleted": 0,
        "blocksModified": 0,
        "idleTime": 120,
        "totalEdits": 1,
        "errorCount": 0,
        "lastError": null,
        "codeSnapshot": "for i in range(5):",
        "sessionTime": 240000,
        "hintRequests": 0,
        "chatMessages": 0,
        "concepts": ["nested-loops", "loops", "logic"],
        "difficulty": "hard"
      }
    }
  },
  {
    "id": "behavior_overconfidence_01",
    "name": "Overconfidence Pattern",
    "evaluation_category": "learning_attitude",
    "difficulty_level": 4,
    "expected_pattern": "overconfident_rushing",
    "expected_behavior": "Detect rapid submissions without testing, skipping concepts, minimal time per mission despite complexity",
    "grading_criteria": {
      "detects_rushing": true,
      "must_include": ["test", "careful", "sure"],
      "gentle_warning": true,
      "encourages_thoroughness": true,
      "specificity_score": 0.85
    },
    "payload": {
      "userId": "benchmark_user",
      "missionId": "data_structures_advanced",
      "step": 1,
      "activity": {
        "blocksCreated": 8,
        "blocksDeleted": 0,
        "blocksModified": 2,
        "idleTime": 5,
        "totalEdits": 10,
        "errorCount": 0,
        "lastError": null,
        "codeSnapshot": "def merge(a,b):return sorted(a+b)",
        "timeToSubmit": 18000,
        "testingEvents": 0,
        "missionComplexity": "high",
        "concepts": ["algorithms", "sorting", "lists"],
        "difficulty": "very-hard"
      }
    }
  },
  {
    "id": "behavior_edge_empty_01",
    "name": "Empty Activity Long Session",
    "evaluation_category": "edge_cases",
    "difficulty_level": 3,
    "expected_pattern": "idle_stuck",
    "expected_behavior": "Detect completely empty activity despite long session - student may be confused about interface or objectives",
    "grading_criteria": {
      "detects_zero_activity": true,
      "must_include": ["start", "help", "stuck"],
      "asks_about_confusion": true,
      "specificity_score": 0.75
    },
    "payload": {
      "userId": "benchmark_user",
      "missionId": "intro_programming",
      "step": 1,
      "activity": {
        "blocksCreated": 0,
        "blocksDeleted": 0,
        "blocksModified": 0,
        "idleTime": 180,
        "totalEdits": 0,
        "errorCount": 0,
        "lastError": null,
        "codeSnapshot": "",
        "sessionTime": 200000,
        "concepts": ["basics", "print", "variables"],
        "difficulty": "easy"
      }
    }
  },
  {
    "id": "behavior_error_loop_01",
    "name": "Same Error Loop Detection",
    "evaluation_category": "learning_block",
    "difficulty_level": 4,
    "expected_pattern": "error_loop",
    "expected_behavior": "Detect student making identical error 5+ times - fundamental misunderstanding, not just typo",
    "grading_criteria": {
      "detects_repeated_error": true,
      "must_include": ["same", "error", "explain"],
      "offers_explanation": true,
      "identifies_root_cause": true,
      "specificity_score": 0.9
    },
    "payload": {
      "userId": "benchmark_user",
      "missionId": "indentation_practice",
      "step": 2,
      "activity": {
        "blocksCreated": 10,
        "blocksDeleted": 5,
        "blocksModified": 8,
        "idleTime": 20,
        "totalEdits": 23,
        "errorCount": 6,
        "lastError": "IndentationError: expected an indented block",
        "codeSnapshot": "for i in range(5):\nprint(i)",
        "errorHistory": [
          {"error": "IndentationError", "count": 6},
          {"error": "SyntaxError", "count": 1}
        ],
        "concepts": ["syntax", "indentation", "loops"],
        "difficulty": "medium"
      }
    }
  },
  {
    "id": "behavior_masking_01",
    "name": "Problem Masking with Workarounds",
    "evaluation_category": "code_smell",
    "difficulty_level": 5,
    "expected_pattern": "workaround_instead_of_fix",
    "expected_behavior": "Detect when student uses workarounds to avoid fixing root problem (e.g., global vars instead of parameters, try-except to hide errors)",
    "grading_criteria": {
      "detects_anti_pattern": true,
      "must_include": ["better", "fix", "proper"],
      "explains_why_bad": true,
      "suggests_correct_approach": true,
      "specificity_score": 0.95
    },
    "payload": {
      "userId": "benchmark_user",
      "missionId": "functions_parameters",
      "step": 3,
      "activity": {
        "blocksCreated": 8,
        "blocksDeleted": 2,
        "blocksModified": 6,
        "idleTime": 25,
        "totalEdits": 16,
        "errorCount": 0,
        "lastError": null,
        "codeSnapshot": "global x, y, z\ndef calculate():\n    return x + y * z\n\nx = 5\ny = 3\nz = 2\nprint(calculate())",
        "expectedApproach": "parameters",
        "concepts": ["functions", "parameters", "scope"],
        "difficulty": "hard"
      }
    }
  }
]
